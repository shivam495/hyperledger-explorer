{"ast":null,"code":"/**\n *    SPDX-License-Identifier: Apache-2.0\n */import React,{Component}from'react';import{withStyles}from'@material-ui/core/styles';import{Timeline,TimelineEvent}from'react-event-timeline';import Dialog from'@material-ui/core/Dialog';import FontAwesome from'react-fontawesome';import Typography from'@material-ui/core/Typography';import{Badge}from'reactstrap';import Timeago from'react-timeago';import find from'lodash/find';import BlockView from'../View/BlockView';import blockOpen from'../../static/images/blockOpen.png';import{blockListType,notificationsType}from'../types';/* istanbul ignore next */const styles=theme=>{const type=theme.palette.type;const dark=type==='dark';return{scrollable:{height:300,overflowY:'scroll'},text:{color:dark?'#ffffff':undefined,'& .badge-secondary':{backgroundColor:'#5e548f'}},event:{wordWrap:'break-word',width:'90% !important',backgroundColor:dark?'#423b5f !important':undefined,'& p':{color:dark?'#ffffff':undefined},'& > div':{color:dark?'red':undefined}},open:{height:35,marginTop:-10,backgroundColor:'transparent'}};};export class TimelineStream extends Component{constructor(props){super(props);this.handleDialogOpenBlockHash=rowValue=>{const blockList=this.props.blockList;const data=find(blockList,item=>item.blockhash===rowValue);this.setState({dialogOpenBlockHash:true,blockHash:data});};this.handleDialogCloseBlockHash=()=>{this.setState({dialogOpenBlockHash:false});};this.state={dialogOpenBlockHash:false,blockHash:{}};}render(){const _this$props=this.props,notifications=_this$props.notifications,classes=_this$props.classes;const _this$state=this.state,blockHash=_this$state.blockHash,dialogOpenBlockHash=_this$state.dialogOpenBlockHash;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.scrollable},/*#__PURE__*/React.createElement(Timeline,null,notifications.map(item=>/*#__PURE__*/React.createElement(TimelineEvent,{key:item.title,title:item.title,icon:/*#__PURE__*/React.createElement(FontAwesome,{name:\"cube\"}),iconColor:\"#0D3799\",container:\"card\",className:classes.event,titleStyle:{fontWeight:'bold'},style:{width:'65%'},cardHeaderStyle:{backgroundColor:'#6283D0',fontSize:'13pt'},contentStyle:{backgroundColor:'transparent'},buttons:/*#__PURE__*/React.createElement(\"a\",{\"data-command\":\"block-link\",href:\"#/\",onClick:()=>this.handleDialogOpenBlockHash(item.blockhash)},/*#__PURE__*/React.createElement(\"img\",{src:blockOpen,alt:\"View Blocks\",className:classes.open}))},/*#__PURE__*/React.createElement(Typography,{variant:\"body1\"},/*#__PURE__*/React.createElement(\"b\",{className:classes.text},\" Channel Name:\"),\" \",item.channelName,' ',/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"b\",{className:classes.text},\" Datahash:\"),\" \",item.datahash,\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"b\",{className:classes.text},\" Number of Tx:\"),\" \",item.txcount),/*#__PURE__*/React.createElement(\"h5\",{className:classes.text},/*#__PURE__*/React.createElement(Badge,{className:classes.text},/*#__PURE__*/React.createElement(Timeago,{className:classes.text,date:item.time,live:false,minPeriod:60}))))))),/*#__PURE__*/React.createElement(Dialog,{open:dialogOpenBlockHash,onClose:this.handleDialogCloseBlockHash,fullWidth:true,maxWidth:\"md\"},/*#__PURE__*/React.createElement(BlockView,{blockHash:blockHash,onClose:this.handleDialogCloseBlockHash})));}}export default withStyles(styles)(TimelineStream);","map":{"version":3,"sources":["/home/shivam/blockchain-explorer/client/src/components/Lists/TimelineStream.js"],"names":["React","Component","withStyles","Timeline","TimelineEvent","Dialog","FontAwesome","Typography","Badge","Timeago","find","BlockView","blockOpen","blockListType","notificationsType","styles","theme","type","palette","dark","scrollable","height","overflowY","text","color","undefined","backgroundColor","event","wordWrap","width","open","marginTop","TimelineStream","constructor","props","handleDialogOpenBlockHash","rowValue","blockList","data","item","blockhash","setState","dialogOpenBlockHash","blockHash","handleDialogCloseBlockHash","state","render","notifications","classes","map","title","fontWeight","fontSize","channelName","datahash","txcount","time"],"mappings":"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","sourcesContent":["/**\n *    SPDX-License-Identifier: Apache-2.0\n */\n\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Timeline, TimelineEvent } from 'react-event-timeline';\nimport Dialog from '@material-ui/core/Dialog';\nimport FontAwesome from 'react-fontawesome';\nimport Typography from '@material-ui/core/Typography';\nimport { Badge } from 'reactstrap';\nimport Timeago from 'react-timeago';\nimport find from 'lodash/find';\nimport BlockView from '../View/BlockView';\nimport blockOpen from '../../static/images/blockOpen.png';\nimport { blockListType, notificationsType } from '../types';\n\n/* istanbul ignore next */\nconst styles = theme => {\n\tconst { type } = theme.palette;\n\tconst dark = type === 'dark';\n\treturn {\n\t\tscrollable: {\n\t\t\theight: 300,\n\t\t\toverflowY: 'scroll'\n\t\t},\n\t\ttext: {\n\t\t\tcolor: dark ? '#ffffff' : undefined,\n\t\t\t'& .badge-secondary': {\n\t\t\t\tbackgroundColor: '#5e548f'\n\t\t\t}\n\t\t},\n\t\tevent: {\n\t\t\twordWrap: 'break-word',\n\t\t\twidth: '90% !important',\n\t\t\tbackgroundColor: dark ? '#423b5f !important' : undefined,\n\t\t\t'& p': {\n\t\t\t\tcolor: dark ? '#ffffff' : undefined\n\t\t\t},\n\t\t\t'& > div': {\n\t\t\t\tcolor: dark ? 'red' : undefined\n\t\t\t}\n\t\t},\n\t\topen: {\n\t\t\theight: 35,\n\t\t\tmarginTop: -10,\n\t\t\tbackgroundColor: 'transparent'\n\t\t}\n\t};\n};\n\nexport class TimelineStream extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdialogOpenBlockHash: false,\n\t\t\tblockHash: {}\n\t\t};\n\t}\n\n\thandleDialogOpenBlockHash = rowValue => {\n\t\tconst { blockList } = this.props;\n\t\tconst data = find(blockList, item => item.blockhash === rowValue);\n\t\tthis.setState({\n\t\t\tdialogOpenBlockHash: true,\n\t\t\tblockHash: data\n\t\t});\n\t};\n\n\thandleDialogCloseBlockHash = () => {\n\t\tthis.setState({ dialogOpenBlockHash: false });\n\t};\n\n\trender() {\n\t\tconst { notifications, classes } = this.props;\n\t\tconst { blockHash, dialogOpenBlockHash } = this.state;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={classes.scrollable}>\n\t\t\t\t\t<Timeline>\n\t\t\t\t\t\t{notifications.map(item => (\n\t\t\t\t\t\t\t<TimelineEvent\n\t\t\t\t\t\t\t\tkey={item.title}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\ticon={<FontAwesome name=\"cube\" />}\n\t\t\t\t\t\t\t\ticonColor=\"#0D3799\"\n\t\t\t\t\t\t\t\tcontainer=\"card\"\n\t\t\t\t\t\t\t\tclassName={classes.event}\n\t\t\t\t\t\t\t\ttitleStyle={{ fontWeight: 'bold' }}\n\t\t\t\t\t\t\t\tstyle={{ width: '65%' }}\n\t\t\t\t\t\t\t\tcardHeaderStyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#6283D0',\n\t\t\t\t\t\t\t\t\tfontSize: '13pt'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcontentStyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: 'transparent'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tbuttons={\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tdata-command=\"block-link\"\n\t\t\t\t\t\t\t\t\t\thref=\"#/\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleDialogOpenBlockHash(item.blockhash)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img src={blockOpen} alt=\"View Blocks\" className={classes.open} />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\t<b className={classes.text}> Channel Name:</b> {item.channelName}{' '}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<b className={classes.text}> Datahash:</b> {item.datahash} <br />\n\t\t\t\t\t\t\t\t\t<b className={classes.text}> Number of Tx:</b> {item.txcount}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<h5 className={classes.text}>\n\t\t\t\t\t\t\t\t\t<Badge className={classes.text}>\n\t\t\t\t\t\t\t\t\t\t<Timeago\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.text}\n\t\t\t\t\t\t\t\t\t\t\tdate={item.time}\n\t\t\t\t\t\t\t\t\t\t\tlive={false}\n\t\t\t\t\t\t\t\t\t\t\tminPeriod={60}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</TimelineEvent>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Timeline>\n\t\t\t\t</div>\n\n\t\t\t\t<Dialog\n\t\t\t\t\topen={dialogOpenBlockHash}\n\t\t\t\t\tonClose={this.handleDialogCloseBlockHash}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmaxWidth=\"md\"\n\t\t\t\t>\n\t\t\t\t\t<BlockView\n\t\t\t\t\t\tblockHash={blockHash}\n\t\t\t\t\t\tonClose={this.handleDialogCloseBlockHash}\n\t\t\t\t\t/>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTimelineStream.propTypes = {\n\tblockList: blockListType.isRequired,\n\tnotifications: notificationsType.isRequired\n};\n\nexport default withStyles(styles)(TimelineStream);\n"]},"metadata":{},"sourceType":"module"}