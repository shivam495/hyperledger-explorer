{"ast":null,"code":"import _regeneratorRuntime from\"/home/shivam/blockchain-explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/shivam/blockchain-explorer/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/**\n *    SPDX-License-Identifier: Apache-2.0\n */import React,{Component}from'react';import{withStyles}from'@material-ui/core/styles';import Dialog from'@material-ui/core/Dialog';import{Button}from'reactstrap';import matchSorter from'match-sorter';import moment from'moment';import ReactTable from'../Styled/Table';import TransactionView from'../View/TransactionView';import DatePicker from'../Styled/DatePicker';import MultiSelect from'../Styled/MultiSelect';import{currentChannelType,getTransactionType,transactionListType,transactionType}from'../types';/* istanbul ignore next */const styles=theme=>{const type=theme.palette.type;const dark=type==='dark';return{hash:{'&, & li':{overflow:'visible !important'}},partialHash:{textAlign:'center',position:'relative !important','&:hover $lastFullHash':{marginLeft:-400},'&:hover $fullHash':{display:'block',position:'absolute !important',padding:'4px 4px',backgroundColor:dark?'#5e558e':'#000000',marginTop:-30,marginLeft:-215,borderRadius:8,color:'#ffffff',opacity:dark?1:undefined}},fullHash:{display:'none'},lastFullHash:{},filter:{width:'100%',textAlign:'center',margin:'0px !important'},filterButton:{opacity:0.8,margin:'auto',width:'100% !important','margin-bottom':'4px'},searchButton:{opacity:0.8,margin:'auto',width:'100% !important',backgroundColor:dark?undefined:'#086108','margin-bottom':'4px'},filterElement:{textAlign:'center',display:'flex',padding:'0px !important','& > div':{width:'100% !important',marginTop:20},'& .label':{margin:'25px 10px 0px 10px'}}};};export class Transactions extends Component{constructor(props){var _this;super(props);_this=this;this.searchTransactionList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(channel){var query,i,channelhash;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:query=\"from=\".concat(new Date(_this.state.from).toString(),\"&&to=\").concat(new Date(_this.state.to).toString());for(i=0;i<_this.state.orgs.length;i++){query+=\"&&orgs=\".concat(_this.state.orgs[i]);}channelhash=_this.props.currentChannel;if(channel!==undefined){channelhash=channel;}_context.next=6;return _this.props.getTransactionListSearch(channelhash,query);case 6:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.handleDialogOpen=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(tid){var _this$props,currentChannel,getTransaction;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,currentChannel=_this$props.currentChannel,getTransaction=_this$props.getTransaction;_context2.next=3;return getTransaction(currentChannel,tid);case 3:_this.setState({dialogOpen:true});case 4:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();this.handleMultiSelect=value=>{this.setState({orgs:value});};this.handleDialogClose=()=>{this.setState({dialogOpen:false});};this.handleSearch=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(_this.interval!==undefined){clearInterval(_this.interval);}_this.interval=setInterval(()=>{_this.searchTransactionList();},60000);_context3.next=4;return _this.searchTransactionList();case 4:_this.setState({search:true});case 5:case\"end\":return _context3.stop();}},_callee3);}));this.handleClearSearch=()=>{this.setState({search:false,to:moment(),orgs:[],err:false,from:moment().subtract(1,'days')});};this.handleEye=(row,val)=>{const selection=this.state.selection;const data=Object.assign({},selection,{[row.index]:!val});this.setState({selection:data});};this.state={dialogOpen:false,search:false,to:moment(),orgs:[],options:[],filtered:[],sorted:[],err:false,from:moment().subtract(1,'days')};}componentDidMount(){const transactionList=this.props.transactionList;const selection={};transactionList.forEach(element=>{selection[element.blocknum]=false;});const opts=[];this.props.transactionByOrg.forEach(val=>{opts.push({label:val.creator_msp_id,value:val.creator_msp_id});});this.setState({selection,options:opts});}componentWillReceiveProps(nextProps){if(this.state.search&&nextProps.currentChannel!==this.props.currentChannel){if(this.interval!==undefined){clearInterval(this.interval);}this.interval=setInterval(()=>{this.searchTransactionList(nextProps.currentChannel);},60000);this.searchTransactionList(nextProps.currentChannel);}}componentWillUnmount(){clearInterval(this.interVal);}handleCustomRender(selected,options){if(selected.length===0){return'Select Orgs';}if(selected.length===options.length){return'All Orgs Selected';}return selected.join(',');}render(){var _this2=this;const classes=this.props.classes;const columnHeaders=[{Header:'Creator',accessor:'creator_msp_id',filterMethod:(filter,rows)=>matchSorter(rows,filter.value,{keys:['creator_msp_id']},{threshold:matchSorter.rankings.SIMPLEMATCH}),filterAll:true},{Header:'Channel Name',accessor:'channelname',filterMethod:(filter,rows)=>matchSorter(rows,filter.value,{keys:['channelname']},{threshold:matchSorter.rankings.SIMPLEMATCH}),filterAll:true},{Header:'Tx Id',accessor:'txhash',className:classes.hash,Cell:row=>/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"a\",{\"data-command\":\"transaction-partial-hash\",className:classes.partialHash,onClick:()=>this.handleDialogOpen(row.value),href:\"#/transactions\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.fullHash,id:\"showTransactionId\"},row.value),' ',row.value.slice(0,6),!row.value?'':'... ')),filterMethod:(filter,rows)=>matchSorter(rows,filter.value,{keys:['txhash']},{threshold:matchSorter.rankings.SIMPLEMATCH}),filterAll:true},{Header:'Type',accessor:'type',filterMethod:(filter,rows)=>matchSorter(rows,filter.value,{keys:['type']},{threshold:matchSorter.rankings.SIMPLEMATCH}),filterAll:true},{Header:'Chaincode',accessor:'chaincodename',filterMethod:(filter,rows)=>matchSorter(rows,filter.value,{keys:['chaincodename']},{threshold:matchSorter.rankings.SIMPLEMATCH}),filterAll:true},{Header:'Timestamp',accessor:'createdt',filterMethod:(filter,rows)=>matchSorter(rows,filter.value,{keys:['createdt']},{threshold:matchSorter.rankings.SIMPLEMATCH}),filterAll:true}];const transactionList=this.state.search?this.props.transactionListSearch:this.props.transactionList;const transaction=this.props.transaction;const dialogOpen=this.state.dialogOpen;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(classes.filter,\" row searchRow\")},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(classes.filterElement,\" col-md-3\")},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"From\"),/*#__PURE__*/React.createElement(DatePicker,{id:\"from\",selected:this.state.from,showTimeSelect:true,timeIntervals:5,dateFormat:\"LLL\",onChange:date=>{if(date>this.state.to){this.setState({err:true,from:date});}else{this.setState({from:date,err:false});}}})),/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(classes.filterElement,\" col-md-3\")},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"To\"),/*#__PURE__*/React.createElement(DatePicker,{id:\"to\",selected:this.state.to,showTimeSelect:true,timeIntervals:5,dateFormat:\"LLL\",onChange:date=>{if(date>this.state.from){this.setState({to:date,err:false});}else{this.setState({err:true,to:date});}}},/*#__PURE__*/React.createElement(\"div\",{className:\"validator \"},this.state.err&&/*#__PURE__*/React.createElement(\"span\",{className:\" label border-red\"},' ',\"From date should be less than To date\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(MultiSelect,{hasSelectAll:true,valueRenderer:this.handleCustomRender,shouldToggleOnHover:false,selected:this.state.orgs,options:this.state.options,selectAllLabel:\"All Orgs\",onSelectedChanged:value=>{this.handleMultiSelect(value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},/*#__PURE__*/React.createElement(Button,{className:classes.searchButton,color:\"success\",disabled:this.state.err,onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this2.handleSearch();case 2:case\"end\":return _context4.stop();}},_callee4);}))},\"Search\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1\"},/*#__PURE__*/React.createElement(Button,{className:classes.filterButton,color:\"primary\",onClick:()=>{this.handleClearSearch();}},\"Reset\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-1\"},/*#__PURE__*/React.createElement(Button,{className:classes.filterButton,color:\"secondary\",onClick:()=>this.setState({filtered:[],sorted:[]})},\"Clear Filter\"))),/*#__PURE__*/React.createElement(ReactTable,{data:transactionList,columns:columnHeaders,defaultPageSize:10,list:true,filterable:true,sorted:this.state.sorted,onSortedChange:sorted=>{this.setState({sorted});},filtered:this.state.filtered,onFilteredChange:filtered=>{this.setState({filtered});},minRows:0,style:{height:'750px'},showPagination:!(transactionList.length<5)}),/*#__PURE__*/React.createElement(Dialog,{open:dialogOpen,onClose:this.handleDialogClose,fullWidth:true,maxWidth:\"md\"},/*#__PURE__*/React.createElement(TransactionView,{transaction:transaction,onClose:this.handleDialogClose})));}}Transactions.defaultProps={transaction:null};export default withStyles(styles)(Transactions);","map":{"version":3,"sources":["/home/shivam/blockchain-explorer/client/src/components/Lists/Transactions.js"],"names":["React","Component","withStyles","Dialog","Button","matchSorter","moment","ReactTable","TransactionView","DatePicker","MultiSelect","currentChannelType","getTransactionType","transactionListType","transactionType","styles","theme","type","palette","dark","hash","overflow","partialHash","textAlign","position","marginLeft","display","padding","backgroundColor","marginTop","borderRadius","color","opacity","undefined","fullHash","lastFullHash","filter","width","margin","filterButton","searchButton","filterElement","Transactions","constructor","props","searchTransactionList","channel","query","Date","state","from","toString","to","i","orgs","length","channelhash","currentChannel","getTransactionListSearch","handleDialogOpen","tid","getTransaction","setState","dialogOpen","handleMultiSelect","value","handleDialogClose","handleSearch","interval","clearInterval","setInterval","search","handleClearSearch","err","subtract","handleEye","row","val","selection","data","Object","assign","index","options","filtered","sorted","componentDidMount","transactionList","forEach","element","blocknum","opts","transactionByOrg","push","label","creator_msp_id","componentWillReceiveProps","nextProps","componentWillUnmount","interVal","handleCustomRender","selected","join","render","classes","columnHeaders","Header","accessor","filterMethod","rows","keys","threshold","rankings","SIMPLEMATCH","filterAll","className","Cell","slice","transactionListSearch","transaction","date","height","defaultProps"],"mappings":"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","sourcesContent":["/**\n *    SPDX-License-Identifier: Apache-2.0\n */\n\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport { Button } from 'reactstrap';\nimport matchSorter from 'match-sorter';\nimport moment from 'moment';\nimport ReactTable from '../Styled/Table';\nimport TransactionView from '../View/TransactionView';\nimport DatePicker from '../Styled/DatePicker';\nimport MultiSelect from '../Styled/MultiSelect';\n\nimport {\n\tcurrentChannelType,\n\tgetTransactionType,\n\ttransactionListType,\n\ttransactionType\n} from '../types';\n\n/* istanbul ignore next */\nconst styles = theme => {\n\tconst { type } = theme.palette;\n\tconst dark = type === 'dark';\n\treturn {\n\t\thash: {\n\t\t\t'&, & li': {\n\t\t\t\toverflow: 'visible !important'\n\t\t\t}\n\t\t},\n\t\tpartialHash: {\n\t\t\ttextAlign: 'center',\n\t\t\tposition: 'relative !important',\n\t\t\t'&:hover $lastFullHash': {\n\t\t\t\tmarginLeft: -400\n\t\t\t},\n\t\t\t'&:hover $fullHash': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tposition: 'absolute !important',\n\t\t\t\tpadding: '4px 4px',\n\t\t\t\tbackgroundColor: dark ? '#5e558e' : '#000000',\n\t\t\t\tmarginTop: -30,\n\t\t\t\tmarginLeft: -215,\n\t\t\t\tborderRadius: 8,\n\t\t\t\tcolor: '#ffffff',\n\t\t\t\topacity: dark ? 1 : undefined\n\t\t\t}\n\t\t},\n\t\tfullHash: {\n\t\t\tdisplay: 'none'\n\t\t},\n\t\tlastFullHash: {},\n\t\tfilter: {\n\t\t\twidth: '100%',\n\t\t\ttextAlign: 'center',\n\t\t\tmargin: '0px !important'\n\t\t},\n\t\tfilterButton: {\n\t\t\topacity: 0.8,\n\t\t\tmargin: 'auto',\n\t\t\twidth: '100% !important',\n\t\t\t'margin-bottom': '4px'\n\t\t},\n\t\tsearchButton: {\n\t\t\topacity: 0.8,\n\t\t\tmargin: 'auto',\n\t\t\twidth: '100% !important',\n\t\t\tbackgroundColor: dark ? undefined : '#086108',\n\t\t\t'margin-bottom': '4px'\n\t\t},\n\t\tfilterElement: {\n\t\t\ttextAlign: 'center',\n\t\t\tdisplay: 'flex',\n\t\t\tpadding: '0px !important',\n\t\t\t'& > div': {\n\t\t\t\twidth: '100% !important',\n\t\t\t\tmarginTop: 20\n\t\t\t},\n\t\t\t'& .label': {\n\t\t\t\tmargin: '25px 10px 0px 10px'\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport class Transactions extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdialogOpen: false,\n\t\t\tsearch: false,\n\t\t\tto: moment(),\n\t\t\torgs: [],\n\t\t\toptions: [],\n\t\t\tfiltered: [],\n\t\t\tsorted: [],\n\t\t\terr: false,\n\t\t\tfrom: moment().subtract(1, 'days')\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { transactionList } = this.props;\n\t\tconst selection = {};\n\t\ttransactionList.forEach(element => {\n\t\t\tselection[element.blocknum] = false;\n\t\t});\n\t\tconst opts = [];\n\t\tthis.props.transactionByOrg.forEach(val => {\n\t\t\topts.push({ label: val.creator_msp_id, value: val.creator_msp_id });\n\t\t});\n\t\tthis.setState({ selection, options: opts });\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (\n\t\t\tthis.state.search &&\n\t\t\tnextProps.currentChannel !== this.props.currentChannel\n\t\t) {\n\t\t\tif (this.interval !== undefined) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t}\n\t\t\tthis.interval = setInterval(() => {\n\t\t\t\tthis.searchTransactionList(nextProps.currentChannel);\n\t\t\t}, 60000);\n\t\t\tthis.searchTransactionList(nextProps.currentChannel);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.interVal);\n\t}\n\n\thandleCustomRender(selected, options) {\n\t\tif (selected.length === 0) {\n\t\t\treturn 'Select Orgs';\n\t\t}\n\t\tif (selected.length === options.length) {\n\t\t\treturn 'All Orgs Selected';\n\t\t}\n\n\t\treturn selected.join(',');\n\t}\n\n\tsearchTransactionList = async channel => {\n\t\tlet query = `from=${new Date(this.state.from).toString()}&&to=${new Date(\n\t\t\tthis.state.to\n\t\t).toString()}`;\n\t\tfor (let i = 0; i < this.state.orgs.length; i++) {\n\t\t\tquery += `&&orgs=${this.state.orgs[i]}`;\n\t\t}\n\t\tlet channelhash = this.props.currentChannel;\n\t\tif (channel !== undefined) {\n\t\t\tchannelhash = channel;\n\t\t}\n\t\tawait this.props.getTransactionListSearch(channelhash, query);\n\t};\n\n\thandleDialogOpen = async tid => {\n\t\tconst { currentChannel, getTransaction } = this.props;\n\t\tawait getTransaction(currentChannel, tid);\n\t\tthis.setState({ dialogOpen: true });\n\t};\n\n\thandleMultiSelect = value => {\n\t\tthis.setState({ orgs: value });\n\t};\n\n\thandleDialogClose = () => {\n\t\tthis.setState({ dialogOpen: false });\n\t};\n\n\thandleSearch = async () => {\n\t\tif (this.interval !== undefined) {\n\t\t\tclearInterval(this.interval);\n\t\t}\n\t\tthis.interval = setInterval(() => {\n\t\t\tthis.searchTransactionList();\n\t\t}, 60000);\n\t\tawait this.searchTransactionList();\n\t\tthis.setState({ search: true });\n\t};\n\n\thandleClearSearch = () => {\n\t\tthis.setState({\n\t\t\tsearch: false,\n\t\t\tto: moment(),\n\t\t\torgs: [],\n\t\t\terr: false,\n\t\t\tfrom: moment().subtract(1, 'days')\n\t\t});\n\t};\n\n\thandleEye = (row, val) => {\n\t\tconst { selection } = this.state;\n\t\tconst data = Object.assign({}, selection, { [row.index]: !val });\n\t\tthis.setState({ selection: data });\n\t};\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\tconst columnHeaders = [\n\t\t\t{\n\t\t\t\tHeader: 'Creator',\n\t\t\t\taccessor: 'creator_msp_id',\n\t\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\t\tmatchSorter(\n\t\t\t\t\t\trows,\n\t\t\t\t\t\tfilter.value,\n\t\t\t\t\t\t{ keys: ['creator_msp_id'] },\n\t\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t\t),\n\t\t\t\tfilterAll: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Channel Name',\n\t\t\t\taccessor: 'channelname',\n\t\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\t\tmatchSorter(\n\t\t\t\t\t\trows,\n\t\t\t\t\t\tfilter.value,\n\t\t\t\t\t\t{ keys: ['channelname'] },\n\t\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t\t),\n\t\t\t\tfilterAll: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Tx Id',\n\t\t\t\taccessor: 'txhash',\n\t\t\t\tclassName: classes.hash,\n\t\t\t\tCell: row => (\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tdata-command=\"transaction-partial-hash\"\n\t\t\t\t\t\t\tclassName={classes.partialHash}\n\t\t\t\t\t\t\tonClick={() => this.handleDialogOpen(row.value)}\n\t\t\t\t\t\t\thref=\"#/transactions\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className={classes.fullHash} id=\"showTransactionId\">\n\t\t\t\t\t\t\t\t{row.value}\n\t\t\t\t\t\t\t</div>{' '}\n\t\t\t\t\t\t\t{row.value.slice(0, 6)}\n\t\t\t\t\t\t\t{!row.value ? '' : '... '}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\t\t\t\t),\n\t\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\t\tmatchSorter(\n\t\t\t\t\t\trows,\n\t\t\t\t\t\tfilter.value,\n\t\t\t\t\t\t{ keys: ['txhash'] },\n\t\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t\t),\n\t\t\t\tfilterAll: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Type',\n\t\t\t\taccessor: 'type',\n\t\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\t\tmatchSorter(\n\t\t\t\t\t\trows,\n\t\t\t\t\t\tfilter.value,\n\t\t\t\t\t\t{ keys: ['type'] },\n\t\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t\t),\n\t\t\t\tfilterAll: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Chaincode',\n\t\t\t\taccessor: 'chaincodename',\n\t\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\t\tmatchSorter(\n\t\t\t\t\t\trows,\n\t\t\t\t\t\tfilter.value,\n\t\t\t\t\t\t{ keys: ['chaincodename'] },\n\t\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t\t),\n\t\t\t\tfilterAll: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tHeader: 'Timestamp',\n\t\t\t\taccessor: 'createdt',\n\t\t\t\tfilterMethod: (filter, rows) =>\n\t\t\t\t\tmatchSorter(\n\t\t\t\t\t\trows,\n\t\t\t\t\t\tfilter.value,\n\t\t\t\t\t\t{ keys: ['createdt'] },\n\t\t\t\t\t\t{ threshold: matchSorter.rankings.SIMPLEMATCH }\n\t\t\t\t\t),\n\t\t\t\tfilterAll: true\n\t\t\t}\n\t\t];\n\n\t\tconst transactionList = this.state.search\n\t\t\t? this.props.transactionListSearch\n\t\t\t: this.props.transactionList;\n\t\tconst { transaction } = this.props;\n\t\tconst { dialogOpen } = this.state;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={`${classes.filter} row searchRow`}>\n\t\t\t\t\t<div className={`${classes.filterElement} col-md-3`}>\n\t\t\t\t\t\t<label className=\"label\">From</label>\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tid=\"from\"\n\t\t\t\t\t\t\tselected={this.state.from}\n\t\t\t\t\t\t\tshowTimeSelect\n\t\t\t\t\t\t\ttimeIntervals={5}\n\t\t\t\t\t\t\tdateFormat=\"LLL\"\n\t\t\t\t\t\t\tonChange={date => {\n\t\t\t\t\t\t\t\tif (date > this.state.to) {\n\t\t\t\t\t\t\t\t\tthis.setState({ err: true, from: date });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.setState({ from: date, err: false });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={`${classes.filterElement} col-md-3`}>\n\t\t\t\t\t\t<label className=\"label\">To</label>\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tid=\"to\"\n\t\t\t\t\t\t\tselected={this.state.to}\n\t\t\t\t\t\t\tshowTimeSelect\n\t\t\t\t\t\t\ttimeIntervals={5}\n\t\t\t\t\t\t\tdateFormat=\"LLL\"\n\t\t\t\t\t\t\tonChange={date => {\n\t\t\t\t\t\t\t\tif (date > this.state.from) {\n\t\t\t\t\t\t\t\t\tthis.setState({ to: date, err: false });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.setState({ err: true, to: date });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"validator \">\n\t\t\t\t\t\t\t\t{this.state.err && (\n\t\t\t\t\t\t\t\t\t<span className=\" label border-red\">\n\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\tFrom date should be less than To date\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</DatePicker>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-2\">\n\t\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\t\thasSelectAll\n\t\t\t\t\t\t\tvalueRenderer={this.handleCustomRender}\n\t\t\t\t\t\t\tshouldToggleOnHover={false}\n\t\t\t\t\t\t\tselected={this.state.orgs}\n\t\t\t\t\t\t\toptions={this.state.options}\n\t\t\t\t\t\t\tselectAllLabel=\"All Orgs\"\n\t\t\t\t\t\t\tonSelectedChanged={value => {\n\t\t\t\t\t\t\t\tthis.handleMultiSelect(value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-2\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.searchButton}\n\t\t\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\t\t\tdisabled={this.state.err}\n\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\tawait this.handleSearch();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-1\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.filterButton}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.handleClearSearch();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-1\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.filterButton}\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => this.setState({ filtered: [], sorted: [] })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tClear Filter\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<ReactTable\n\t\t\t\t\tdata={transactionList}\n\t\t\t\t\tcolumns={columnHeaders}\n\t\t\t\t\tdefaultPageSize={10}\n\t\t\t\t\tlist\n\t\t\t\t\tfilterable\n\t\t\t\t\tsorted={this.state.sorted}\n\t\t\t\t\tonSortedChange={sorted => {\n\t\t\t\t\t\tthis.setState({ sorted });\n\t\t\t\t\t}}\n\t\t\t\t\tfiltered={this.state.filtered}\n\t\t\t\t\tonFilteredChange={filtered => {\n\t\t\t\t\t\tthis.setState({ filtered });\n\t\t\t\t\t}}\n\t\t\t\t\tminRows={0}\n\t\t\t\t\tstyle={{ height: '750px' }}\n\t\t\t\t\tshowPagination={!(transactionList.length < 5)}\n\t\t\t\t/>\n\n\t\t\t\t<Dialog\n\t\t\t\t\topen={dialogOpen}\n\t\t\t\t\tonClose={this.handleDialogClose}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmaxWidth=\"md\"\n\t\t\t\t>\n\t\t\t\t\t<TransactionView\n\t\t\t\t\t\ttransaction={transaction}\n\t\t\t\t\t\tonClose={this.handleDialogClose}\n\t\t\t\t\t/>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTransactions.propTypes = {\n\tcurrentChannel: currentChannelType.isRequired,\n\tgetTransaction: getTransactionType.isRequired,\n\ttransaction: transactionType,\n\ttransactionList: transactionListType.isRequired\n};\n\nTransactions.defaultProps = {\n\ttransaction: null\n};\n\nexport default withStyles(styles)(Transactions);\n"]},"metadata":{},"sourceType":"module"}